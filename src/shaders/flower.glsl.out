\n#define AK float\n#define BS vec2\n#define KM smoothstep\nuniform AK f;uniform BS r;#extension GL_OES_standard_derivatives : enableAK A(in BS c,in BS a,in BS b){BS e=c-a,ba=b-a;AK d=clamp(dot(e,ba)/dot(ba,ba),.0,1.);return length(e-ba*d);}vec3 B(in vec3 e,in BS a,in BS b,in BS d,in BS f,in vec4 c){AK h=A(d,a,b);AK h=fwidth(h)*h.y;return mix(e,c.xyz,c.h*(1.-KM(h.x-h,h.x+h,h)));}vec3 C(AK a){return fract(sin(vec3(a,a+1.,a+2.))*43758.5453123);}void main(){BS n=gl_FragCoord.xy/j;n-=BS(.5,.5);n/=BS(9./16.,1.)*max(KM(1.2,.1,(f-16.*60.)/600.),.7);AK g=3.1415926;AK m=2.*g;AK k=8.;AK l=60.*k;AK j=length(n);vec3 a=vec3(.0,.0,.0);BS b;BS h=mod(n,BS(2.5,2.5))-.5*BS(2.5,2.5);BS i=mod(n+2.5,BS(5.,5.))-.5*BS(5.,5.);AK f=.0;for(int c=0;c<12;c++){b=BS(sin(m*(f+f)/l),cos(m*(f+f)/l));a=B(a,BS(.0),b*.7,h,BS(.15,1.),vec4(173./255.,127./255.,1.,1.));f+=5.*k;}f=.0;for(int c=0;c<12;c++){b=BS(cos(m*(f+f)/l),sin(m*(f+f)/l));a=B(a,BS(.0),b*.4,i,BS(.15,1.),vec4(1.,127./255.,1.,1.));f+=5.*k;}f=5.*k/2.;for(int c=0;c<12;c++){b=BS(cos(m*(f+f)/l),sin(m*(f+f)/l));a=B(a,BS(.0),b*.9,i,BS(.5,1.),vec4(85./255.,127./255.,1.,1.));f+=5.*k;}a=mix(a,vec3(133./255.,243./255.,159./255.),1.-KM(.5,.55,j*KM(.5,1.,(f-16.*60.)/600.)));a+=(1./255.)*C(n.x+13.*n.y)/.5;gl_FragColor=vec4(a,1.);}
